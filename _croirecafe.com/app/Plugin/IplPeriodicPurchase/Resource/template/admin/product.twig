{#
RepeatCube for EC-CUBE4
Copyright(c) 2019 IPLOGIC CO.,LTD. All Rights Reserved.

http://www.iplogic.co.jp/

This program is not free software.
It applies to terms of service.
#}
{% block javascript %}
<script type="text/javascript">
{% if has_class == false %}
    $(function(){
        var periodic_sale_type_id = {{ periodic_sale_type_id }};

        // ページ読み込み時
        if ($("#{{ form.class.sale_type.vars.id }}").val() == periodic_sale_type_id) {
            enable_periodic_option();
        } else {
            disable_periodic_option();
        }

        // 選択変更時
        $("#{{ form.class.sale_type.vars.id }}").on("click change", function() {
            var select_sale_type_id = $(this).val();
            if (select_sale_type_id == periodic_sale_type_id) {
                enable_periodic_option();
            } else {
                disable_periodic_option();
            }
        })

    });

    function enable_periodic_option(){
        $("input[id^={{ form.class.Cycles.vars.id }}]").prop('disabled', false);
        $("#{{ form.class.PeriodicDiscount.vars.id }}").prop('disabled', false);
    }

    function disable_periodic_option(){
        $("input[id^={{ form.class.Cycles.vars.id }}]").prop('disabled', true);
        $("#{{ form.class.PeriodicDiscount.vars.id }}").prop('disabled', true);
    }
{% endif %}
</script>
{% endblock javascript %}